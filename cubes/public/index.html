<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<title>dataShuttle Visualisations</title>
	<style type="text/css">
		body { font-family: Georgia,"Times New Roman",Times,serif; font-size: 80%; }
		#left { float: left; width: 300px; }
		#right { float: left; }
		#results { float: right; font-weight: bold; }
		#chart { width: 600px; }
		#chart path { fill: #6baed6; stroke: #fff; stroke-width: 0.25px; }
		.tooltip { background-color: #000; color: #fff; padding: 3px; text-align: center; }
	</style>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
	<script type="text/javascript" src="js/d3/d3.js"></script>
	<script type="text/javascript" src="js/d3/d3.geo.js"></script>
	<script type="text/javascript" src="js/ldp.js"></script>
	<script type="text/javascript">
		(function($) {
		 	$(document).ready(function() {

				var service = new LDP.Service({
					url: '/api'
				});

				service.addDimension(
					'gender',
					new LDP.Dimension.List()
				);

				service.addDimension(
					'year',
					new LDP.Dimension.List()
				);

				service.addDimension(
					'icd',
					new LDP.Dimension.List()
				);

				service.addDimension(
					'area',
					new LDP.Dimension.Geo({
						url: 'data/areas.json',
						container: '#chart',
						colourMin: "#ffc0cb",
						colourMax: "#800000",
						formatFeatureToolTip: function(featureId, data, colourScale) {
							return data['area.name'] + '<br/>' + LDP.Dimension.numFormat(data.value_sum);
						}
					})
				);

				service.run();

			});
		})(jQuery);

	</script>
</head>
<body>
	<header>
		<h1>Linked Data Platform Visualisations</h1>
	</header>
	<div id="main" role="main">
		<div id="left">
			<div id="dimensions"></div>
		</div>
		<div id="right">
			<div id="chart"></div>
		</div>
	</div>
</body>
</html>
